# Тестовое задание для Авито
## **Стек**
* **Kotlin**
* **Jetpack Compose** 
* **Hilt (Dagger Hilt)**
* **MVVM**
* **Coroutines**
## **Демонстрация**
### **Вход в аккаунт, валидация полей, выгрузка в Yandex Cloud, поиск по книгам**
https://github.com/user-attachments/assets/7a10e1dd-b4e5-490a-a925-5ff0c8c3fc94

### **Регистрация, изменение фамилии и имени в профиле, загрузка фотографии, выход из аккаунта**
https://github.com/user-attachments/assets/1b19f7bb-4867-483c-8610-6bc985ed6981

### **Чтение книги, изменеие размера шрифта, изменеие межстрочного интревала**
https://github.com/user-attachments/assets/027c4f58-e797-428d-a253-5bf3f5956bb5

### **Поддержка темной темы**
Задается с помощью элемента MaterialTheme

![photo_5269253182716578760_y](https://github.com/user-attachments/assets/7294b600-c972-47a0-8edc-902bf97f2cbf)
![photo_5269253182716578759_y](https://github.com/user-attachments/assets/2fc12b3f-e2ce-43f3-b6e9-984a44b3169f)
![photo_5269253182716578758_y](https://github.com/user-attachments/assets/00facdaa-61f1-49d2-a340-513052549ac8)
![photo_5269253182716578757_y](https://github.com/user-attachments/assets/fe226a85-4564-4342-8712-c9709ae275de)

### **Возникшие проблемы**
  1. API экосистемы Firebase супер простое в использование + поддерживает множество высокоуровневых фичей (отслеживание прогресса загрузки через коллбэк). Но так как использовать Firebase Storage без зарубежной карты нельзя, пришлось прибегнуть к Yandex Cloud Object Storage. С облаком от Яндекса можно работать через клиенты, поддерживающие стандарт Amazon S3 API. По итогу остановился на официальном клиенте `aws.sdk.kotlin:s3:1.3.6`. Почему-то быстро его найти не удалось. Следующий момент - по умолчанию клиент aws отсылает пакеты размером более 2 Мб с заголовком `Expect: 100-continue `. Yandex Cloud данный заголовок игнорирует и не отправляет ответный пакет. Как итог, передача файлов стоит. Офф документация не очень богата на такие моменты, так и еще сам билдер представляет из себя лямбду-объект из-за чего нельзя оперативно прошерстить доступные методы настройки. К счастью в исходнике удалось найти соответствующий параметр, регламентирующий этот момент, и запустить все как надо.
  2. Парсеры .pdf, .edub. Тут проблем оказалось меньше, но тем не менее удобного инструментария еще меньше. Все либы достаточно древние, их тяжело найти и установить + нужны дополнительные параметры при сборке из-за обилия конфликтов Java библиотек.
  3.
### **Замечания к себе**
Максимально пытался в clean, но по итогу проект получился достаточно избыточным и даже непонятным. Нет единого стиля в репозиториях: одни как и положено атомарны, другие же получаются очень толстыми и перенасыщенными. Тоже самое касается Domain уровня, где-то они вышли адекватнее, нежели в самых первичных компонентах. Много проблем с неймингом, он не очевиден. Отсуствие unit-тестов. Но в целом небольшой рефакторинг и будет неплохо. 
